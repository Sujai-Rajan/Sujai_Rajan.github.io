<!-- home / index.html -->
<!doctype html>
<html lang="en">
  <head>
    <script src="https://unpkg.com/lottie-web@5.12.2/build/player/lottie.min.js"></script>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Sujai Rajan — Robotics Engineer | Systems Architect</title>

    <!-- Tailwind CSS v4 (Play CDN) -->
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- Framer Motion (UMD build from unpkg dist) -->
    <!-- Note: This is a UMD build available in the framer-motion package dist. -->
    <script defer src="https://unpkg.com/framer-motion@12.23.26/dist/framer-motion.js"></script>

    <style type="text/tailwindcss">
      @theme {
        --color-obsidian: #050505;
        --color-cyberlime: #ccff00;
        --color-cobalt: #2e66ff;
        --color-glass: rgba(255, 255, 255, 0.06);
        --color-glass-strong: rgba(255, 255, 255, 0.09);
        --color-stroke: rgba(255, 255, 255, 0.12);
        --shadow-neon: 0 0 0 1px rgba(204, 255, 0, 0.18), 0 0 40px rgba(204, 255, 0, 0.08),
          0 0 120px rgba(46, 102, 255, 0.06);
        --shadow-neon-strong: 0 0 0 1px rgba(204, 255, 0, 0.28), 0 0 60px rgba(204, 255, 0, 0.12),
          0 0 160px rgba(46, 102, 255, 0.1);
      }

      html,
      body {
        background: var(--color-obsidian);
        color: white;
        font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
        overflow-x: hidden;
      }

      .mono {
        font-family: "JetBrains Mono", ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono",
          "Courier New", monospace;
      }

      .glass {
        background: var(--color-glass);
        border: 1px solid var(--color-stroke);
        backdrop-filter: blur(16px);
        -webkit-backdrop-filter: blur(16px);
      }

      .glass-strong {
        background: var(--color-glass-strong);
        border: 1px solid var(--color-stroke);
        backdrop-filter: blur(18px);
        -webkit-backdrop-filter: blur(18px);
      }

      .neon-ring {
        box-shadow: var(--shadow-neon);
      }

      .neon-ring-strong {
        box-shadow: var(--shadow-neon-strong);
      }

      .scanlines {
        background-image: linear-gradient(rgba(255, 255, 255, 0.035) 1px, transparent 1px);
        background-size: 100% 6px;
        opacity: 0.12;
        mix-blend-mode: overlay;
        pointer-events: none;
      }

      .grid-dots {
        background-image: radial-gradient(rgba(204, 255, 0, 0.22) 1px, transparent 1px);
        background-size: 22px 22px;
        mask-image: radial-gradient(circle at 30% 20%, black 0%, transparent 62%);
        opacity: 0.22;
        pointer-events: none;
      }

      /* Animated mesh gradient */
      .mesh {
        background:
          radial-gradient(900px 600px at 15% 20%, rgba(204, 255, 0, 0.18), transparent 55%),
          radial-gradient(800px 560px at 70% 25%, rgba(46, 102, 255, 0.20), transparent 55%),
          radial-gradient(700px 520px at 60% 80%, rgba(204, 255, 0, 0.10), transparent 55%),
          radial-gradient(900px 700px at 18% 78%, rgba(46, 102, 255, 0.10), transparent 55%),
          linear-gradient(to bottom, rgba(255, 255, 255, 0.03), transparent 22%, rgba(255, 255, 255, 0.02));
        filter: saturate(1.15) contrast(1.05);
        transform: translateZ(0);
        animation: meshShift 14s ease-in-out infinite alternate;
      }
      @keyframes meshShift {
        0% {
          transform: translate3d(0, 0, 0) scale(1);
          filter: saturate(1.1) contrast(1.05);
        }
        100% {
          transform: translate3d(0, -12px, 0) scale(1.02);
          filter: saturate(1.25) contrast(1.1);
        }
      }

      /* Soft vignette */
      .vignette {
        background: radial-gradient(circle at 50% 20%, transparent 0%, rgba(0, 0, 0, 0.7) 62%, rgba(0, 0, 0, 0.9) 100%);
        pointer-events: none;
      }

      /* Hover micro-interactions */
      .hover-lift {
        transition: transform 280ms ease, box-shadow 280ms ease, border-color 280ms ease;
        will-change: transform, box-shadow;
      }
      .hover-lift:hover {
        transform: translateY(-6px);
        box-shadow: var(--shadow-neon-strong);
        border-color: rgba(204, 255, 0, 0.28);
      }

      /* 3D tilt base */
      .tilt {
        transform-style: preserve-3d;
        perspective: 900px;
      }
      .tilt > .tilt-inner {
        transform: translateZ(0);
        will-change: transform;
      }

      /* Custom scrollbar (subtle) */
      ::-webkit-scrollbar {
        width: 10px;
      }
      ::-webkit-scrollbar-track {
        background: #050505;
      }
      ::-webkit-scrollbar-thumb {
        background: rgba(255, 255, 255, 0.12);
        border-radius: 999px;
        border: 2px solid #050505;
      }
      ::-webkit-scrollbar-thumb:hover {
        background: rgba(204, 255, 0, 0.18);
      }
      .tile {
        position: relative;
        overflow: hidden;
      }
      .tile::after {
        content: "";
        position: absolute;
        inset: -40%;
        background: radial-gradient(circle at 30% 30%, rgba(204,255,0,.10), transparent 55%),
                    radial-gradient(circle at 70% 70%, rgba(46,102,255,.10), transparent 55%);
        opacity: 0;
        transition: opacity 300ms ease;
        pointer-events: none;
      }
      .tile:hover::after {
        opacity: 1;
      }
    </style>
  </head>

  <body class="min-h-screen">
    <!-- Background system -->
    <div class="fixed inset-0 -z-50">
      <div class="absolute inset-0 mesh"></div>
      <div class="absolute inset-0 scanlines"></div>
      <div class="absolute inset-0 grid-dots"></div>
      <div class="absolute inset-0 vignette"></div>
      <canvas id="starfield" class="absolute inset-0 opacity-60"></canvas>
    </div>

    <!-- Fixed Nav -->
    <header class="fixed top-0 left-0 right-0 z-50">
      <nav class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="mt-4 glass rounded-2xl">
          <div class="flex items-center justify-between px-4 py-3 sm:px-5">
            <a href="index.html" class="group flex items-center gap-3">
              <div
                class="h-10 w-10 rounded-xl glass-strong neon-ring flex items-center justify-center"
                aria-hidden="true"
              >
                <div class="h-2.5 w-2.5 rounded-full" style="background:#ccff00; box-shadow: 0 0 22px rgba(204,255,0,.45)"></div>
              </div>
              <div class="leading-tight">
                <div class="text-sm font-semibold tracking-wide">SUJAI RAJAN</div>
                <div class="mono text-[11px] text-white/60 group-hover:text-white/80 transition">ROBOTICS ENGINEER</div>
              </div>
            </a>

            <div class="hidden md:flex items-center gap-2">
              <a href="index.html" class="px-3 py-2 rounded-xl text-sm font-medium text-white/90 hover:text-white hover:bg-white/5 transition">Home</a>
              <a href="projects.html" class="px-3 py-2 rounded-xl text-sm font-medium text-white/70 hover:text-white hover:bg-white/5 transition">Projects</a>
              <a href="about.html" class="px-3 py-2 rounded-xl text-sm font-medium text-white/70 hover:text-white hover:bg-white/5 transition">Experience</a>
              <a href="contact.html" class="px-3 py-2 rounded-xl text-sm font-medium text-white/70 hover:text-white hover:bg-white/5 transition">Contact</a>

              <a
                href="projects.html"
                class="ml-2 inline-flex items-center gap-2 rounded-xl px-3 py-2 text-sm font-semibold text-black"
                style="background:#ccff00"
              >
                <span>Explore Projects</span>
                <span class="mono text-[12px]">↳</span>
              </a>
            </div>

            <button id="mobileBtn" class="md:hidden rounded-xl px-3 py-2 glass hover:bg-white/5 transition" aria-label="Open menu">
              <span class="mono text-xs text-white/80">MENU</span>
            </button>
          </div>

          <!-- Mobile menu -->
          <div id="mobileMenu" class="hidden border-t border-white/10 px-4 py-3">
            <div class="grid gap-2">
              <a href="index.html" class="rounded-xl px-3 py-2 text-sm font-medium text-white/90 hover:bg-white/5 transition">Home</a>
              <a href="projects.html" class="rounded-xl px-3 py-2 text-sm font-medium text-white/70 hover:text-white hover:bg-white/5 transition">Projects</a>
              <a href="about.html" class="rounded-xl px-3 py-2 text-sm font-medium text-white/70 hover:text-white hover:bg-white/5 transition">Experience</a>
              <a href="contact.html" class="rounded-xl px-3 py-2 text-sm font-medium text-white/70 hover:text-white hover:bg-white/5 transition">Contact</a>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="pt-28 sm:pt-32">
      <!-- HERO -->
      <section class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="grid gap-6 lg:grid-cols-12 lg:items-start">


          <div class="space-y-6 lg:col-span-7">
            <div class="glass rounded-3xl p-6 sm:p-8 neon-ring">
              <div class="flex items-center gap-3">
                <div class="mono text-xs text-white/60">CHANGING THE WORLD ONE STEP AT A TIME</div>
                <div class="h-[1px] flex-1 bg-white/10"></div>
                <div class="mono text-xs" style="color:#ccff00">SIM → BUILD → DEBUG → DEPLOY</div>
              </div>

              <h1 class="mt-5 font-extrabold tracking-tight">
                <span class="block text-4xl sm:text-6xl">
                  ROBOTICS ENGINEER
                </span>

                <span class="block mt-2 text-xl sm:text-2xl font-semibold" style="color:#ccff00">
                  Master of Science, Robotics
                </span>

                <span class="block mt-2 text-xl sm:text-xl font-semibold text-white/65">
                  Northeastern University
                </span>
              </h1>



              <p class="mt-3 text-white/75 text-base sm:text-lg leading-relaxed">
                I’m a robotics engineer who enjoys building systems where software meets the physical world. My work focuses on perception, navigation, and control → <span class="text-white/90">designing robots that can
                sense, decide, and act reliably outside of simulation.</span> 
                Each project highlights real engineering decisions → tradeoffs, failures,
                and refinements.
              </p>

              <!-- CTA row -->
              <div class="mt-6 flex flex-wrap items-center gap-3">
                <a
                  href="projects.html"
                  class="inline-flex items-center gap-2 rounded-2xl px-4 py-3 font-semibold text-black hover:brightness-95 transition"
                  style="background:#ccff00"
                >
                  <span>Open Projects Grid</span>
                  <span class="mono text-sm">→</span>
                </a>

                <a
                  href="#core"
                  class="inline-flex items-center gap-2 rounded-2xl px-4 py-3 font-semibold text-white/90 glass hover:bg-white/5 transition"
                >
                  <span>View Core Systems</span>
                  <span class="mono text-sm" style="color:#2e66ff">⌁</span>
                </a>

                <a
                  href="https://www.linkedin.com/in/sujai-r/"
                  target="_blank"
                  rel="noreferrer"
                  style="background:#0077b5"
                  class="inline-flex items-center gap-2 rounded-2xl px-4 py-3 font-semibold text-white/80 glass hover:bg-white/5 transition"
                >
                  <span>LinkedIn</span>
                  <span class="mono text-sm" style="color:#fa0b0b">↗</span>
                </a>
              </div>

              <!-- Technical Stats Bar -->
              <div class="mt-8 grid gap-3 sm:grid-cols-3">
                <div class="glass-strong rounded-2xl px-4 py-4 hover-lift reveal">
                  <div class="mono text-[11px] text-white/60">TECHNICAL STATS</div>
                  <div class="mt-1 text-lg font-bold" style="color:#ccff00">20+ PROJECTS</div>
                  <div class="mt-1 text-sm text-white/70">Academic + Industrial</div>
                </div>
                <div class="glass-strong rounded-2xl px-4 py-4 hover-lift reveal">
                  <div class="mono text-[11px] text-white/60">FIELD EXPERIENCE</div>
                  <div class="mt-1 text-md font-bold text-white/90">Software, Electrical & Mechanical</div>
                  <div class="mt-1 text-sm text-white/70"></div>
                </div>
                <div class="glass-strong rounded-2xl px-4 py-4 hover-lift reveal">
                  <div class="mono text-[11px] text-white/60">UNDERGRAD</div>
                  <div class="mt-1 text-lg font-bold text-white/90">B.Tech. in</div>
                  <div class="mt-1 text-sm text-white/70">Mechanical Engineering</div>
                </div>
              </div>
            </div>
          
              <!-- SKILLS SNAPSHOT -->
              <div class="glass rounded-3xl p-5 sm:p-6 neon-ring hover:bg-white/5 transition">
                <div class="flex items-start justify-between gap-4">
                  <div>
                    <div class="mt-1 text-lg font-bold">SKILLS SNAPSHOT</div>
                    <div class="mt-1 text-sm text-white/70">
                      Tools, algorithms, & systems I’ve used across academic
                      & industrial robotics projects.
                    </div>
                  </div>
                  <div class="mono text-xs rounded-xl px-3 py-1 glass-strong" style="color:#ccff00">LIVE</div>
                </div>

                <!-- Humanoid rig (HUD / innovative) -->
                <div class="mt-4 relative h-40 overflow-hidden rounded-2xl border border-white/10 bg-black/40">
                  <!-- subtle grid -->
                  <div class="absolute inset-0 opacity-60"
                    style="background-image: radial-gradient(rgba(255,255,255,.06) 1px, transparent 1px); background-size: 16px 16px;"
                  ></div>

                  <!-- faint gradient wash -->
                  <div class="absolute inset-0 opacity-70"
                    style="background:
                      radial-gradient(600px 180px at 20% 50%, rgba(204,255,0,.10), transparent 60%),
                      radial-gradient(600px 180px at 80% 50%, rgba(46,102,255,.10), transparent 60%);"
                  ></div>

                  <!-- data bus line -->
                  <div class="absolute left-6 right-6 top-1/2 -translate-y-1/2 h-[1px] bg-white/10"></div>
                  <div class="absolute left-6 right-6 top-1/2 -translate-y-1/2 h-[1px] opacity-70"
                    style="background: linear-gradient(90deg, rgba(204,255,0,.0), rgba(204,255,0,.28), rgba(46,102,255,.28), rgba(46,102,255,.0));"
                  ></div>



                  <!-- pulsing nodes -->
                  <div class="absolute left-10 top-1/2 -translate-y-1/2 h-2 w-2 rounded-full"
                    style="background:#ccff00; box-shadow: 0 0 18px rgba(204,255,0,.45);"
                  ></div>
                  <div class="absolute right-10 top-1/2 -translate-y-1/2 h-2 w-2 rounded-full"
                    style="background:#2e66ff; box-shadow: 0 0 18px rgba(46,102,255,.40);"
                  ></div>

                  <!-- tiny readouts (makes it feel like an interface) -->
                  <div class="absolute left-6 top-4 mono text-[10px] text-white/55">
                    stack: <span class="text-white/80">perception • slam • planning</span>
                  </div>
                  <div class="absolute right-6 top-4 mono text-[10px] text-white/55 text-right">
                    mode: <span style="color:#ccff00">active</span>
                    <span class="text-white/35">•</span>
                    sync: <span style="color:#2e66ff">ok</span>
                  </div>

                  <!-- center humanoid (moves along the bus) -->
                  <div class="absolute left-0 right-0 top-1/2 -translate-y-1/2 pointer-events-none">
                    <!-- This stays centered forever -->
                    <div class="absolute left-1/2 -translate-x-1/2">
                      <!-- This is the only element we animate -->
                      <div id="rigMover" class="relative" style="transform: translateX(0px) translateY(-46px);">
                        <div id="rig" class="relative h-24 w-20 opacity-95">
                          <div class="absolute left-1/2 top-1 h-6 w-6 -translate-x-1/2 rounded-xl glass-strong neon-ring"></div>
                          <div class="absolute left-1/2 top-9 h-8 w-10 -translate-x-1/2 rounded-xl glass neon-ring"></div>

                          <div id="armL" class="absolute left-0 top-[42px] h-2.5 w-8 rounded-xl glass-strong origin-right"></div>
                          <div id="armR" class="absolute right-0 top-[42px] h-2.5 w-8 rounded-xl glass-strong origin-left"></div>

                          <div id="legL" class="absolute left-5 top-[66px] h-2.5 w-8 rounded-xl glass-strong origin-top-right"></div>
                          <div id="legR" class="absolute right-5 top-[66px] h-2.5 w-8 rounded-xl glass-strong origin-top-left"></div>

                          <div class="absolute left-1/2 top-[52px] -translate-x-1/2 h-12 w-12 rounded-full opacity-60"
                            style="border: 1px solid rgba(255,255,255,.10); box-shadow: 0 0 30px rgba(204,255,0,.10);"
                          ></div>
                        </div>
                      </div>
                    </div>
                  </div>


                  <!-- corner glows -->
                  <div class="absolute -left-12 top-6 h-36 w-36 rounded-full blur-3xl" style="background: rgba(204,255,0,.10)"></div>
                  <div class="absolute -right-12 bottom-0 h-40 w-40 rounded-full blur-3xl" style="background: rgba(46,102,255,.12)"></div>

                  <!-- bottom label strip -->
                  <div class="absolute left-6 right-6 bottom-3 flex items-center justify-between">
                    <div class="mono text-[10px] text-white/55">signal: <span class="text-white/80">skill-map</span></div>
                    <div class="mono text-[10px] text-white/55">frame: <span style="color:#ccff00">stable</span></div>
                  </div>
                </div>


                <!-- Skills cloud (resume-complete, no headings) -->
                <div class="mt-4 flex flex-wrap gap-2 leading-tight">

                  <!-- Languages & OS -->
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass-strong">Python</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass-strong">C++</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">C</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">MATLAB</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Linux</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Git</span>

                  <!-- Robotics core -->
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass-strong">ROS</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass-strong">ROS2</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass-strong">Perception</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass-strong">SLAM</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Mapping</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Path Planning</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Motion Planning</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Kinematics</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Sensor Fusion</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">OpenCV</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Robot Control (PID, MPC)</span>

                  <!-- Vision -->

                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Object Detection</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Feature Extraction</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Pose Estimation</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Stereo Vision</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">3D Vision</span>

                  <!-- ML -->
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Supervised Learning</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Unsupervised Learning</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Deep Learning</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">CNNs</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">PyTorch</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">TensorFlow</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Scikit-Learn</span>

                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Arduino</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Raspberry Pi</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Jetson Nano</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">SolidWorks</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">AutoCAD</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Autodesk Inventor</span>

                  <!-- Estimation / geometry -->
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Kalman Filtering</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">GTSAM</span>

                  <!-- Hardware -->
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Cameras</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">LiDAR</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">IMU</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">GPS</span>


                  <!-- Simulation / design -->
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">Gazebo</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">RViz</span>
                  <span class="mono text-[11px] rounded-xl px-2.5 py-1 glass">MoveIt2</span>


                </div>
              </div>






          </div>

          <!-- Right: “Live” robotics panel -->
          <div class="space-y-6 lg:col-span-5">
            <div class="glass rounded-3xl p-5 sm:p-6 lg:p-5 neon-ring tilt" id="tiltPanel">
              <div class="tilt-inner">
                <div class="flex items-start justify-between gap-4">
                  <div>
                    <div class="mono text-xs text-white/60">FUSION STACK</div>
                    <div class="mt-1 text-xl font-bold">Robotics Telemetry</div>
                    <div class="mt-1 text-sm text-white/70">
                      LiDAR + camera + IMU/GPS streams — fused into a stable pose & scene model.
                    </div>
                  </div>
                  <div class="mono text-xs rounded-xl px-3 py-1 glass-strong" style="color:#ccff00">LIVE</div>
                </div>

               <div class="mt-4 glass-strong rounded-2xl px-3 py-2 flex items-center justify-between">
                  <div class="mono text-[11px] text-white/60">
                    node: <span class="text-white/80">fusion_core</span>
                  </div>
                  <div class="mono text-[11px] text-white/60">
                    rate: <span style="color:#ccff00">100Hz</span>
                    <span class="text-white/40">•</span>
                    latency: <span style="color:#2e66ff">18ms</span>
                  </div>
                </div>
 

                <!-- Faux sensor tiles -->
                <div class="mt-5 grid grid-cols-2 gap-3">
                  <div class="glass-strong rounded-2xl p-3 hover-lift tile">
                    <div class="mono text-[11px] text-white/60">LIDAR</div>
                    <div class="mt-2 relative h-28 overflow-hidden rounded-xl border border-white/10 bg-black/40">
                      <!-- radar sweep -->
                      <svg class="absolute inset-0 h-full w-full" viewBox="0 0 200 120" preserveAspectRatio="none" aria-hidden="true">
                        <defs>
                          <radialGradient id="g" cx="35%" cy="60%" r="70%">
                            <stop offset="0%" stop-color="#ccff00" stop-opacity="0.22" />
                            <stop offset="60%" stop-color="#ccff00" stop-opacity="0.06" />
                            <stop offset="100%" stop-color="#ccff00" stop-opacity="0.0" />
                          </radialGradient>
                        </defs>
                        <rect x="0" y="0" width="200" height="120" fill="url(#g)" />
                        <g opacity="0.7">
                          <path d="M0,90 C40,80 70,75 105,55 C140,35 165,20 200,10" fill="none" stroke="#2e66ff" stroke-opacity="0.5" stroke-width="1.2"/>
                          <path d="M0,105 C55,92 88,80 120,62 C150,45 175,30 200,22" fill="none" stroke="#ccff00" stroke-opacity="0.35" stroke-width="1.2"/>
                        </g>
                      </svg>
                      <div id="sweep" class="absolute -left-10 top-0 h-full w-24"
                        style="background: linear-gradient(90deg, transparent, rgba(204,255,0,.18), transparent); transform: skewX(-18deg);"
                      ></div>
                    </div>
                    <div class="mt-2 mono text-[11px] text-white/60">
                      <span style="color:#ccff00">~</span> scan matching/obstacle cues
                    </div>
                  </div>

                  <div class="glass-strong rounded-2xl p-3 hover-lift tile">
                    <div class="mono text-[11px] text-white/60">CAMERA</div>
                    <div class="mt-2 relative h-28 overflow-hidden rounded-xl border border-white/10 bg-black/40">
                      <!-- “camera feed” shimmer tiles -->
                      <div class="absolute inset-0 grid grid-cols-3 gap-[2px] p-[2px] opacity-95">
                        <div class="rounded-[8px] bg-white/5"></div>
                        <div class="rounded-[8px] bg-white/10"></div>
                        <div class="rounded-[8px] bg-white/5"></div>
                        <div class="rounded-[8px] bg-white/10"></div>
                        <div class="rounded-[8px] bg-white/5"></div>
                        <div class="rounded-[8px] bg-white/10"></div>
                        <div class="rounded-[8px] bg-white/5"></div>
                        <div class="rounded-[8px] bg-white/10"></div>
                        <div class="rounded-[8px] bg-white/5"></div>
                      </div>
                      <div id="shimmer" class="absolute -left-28 top-0 h-full w-40"
                        style="background: linear-gradient(90deg, transparent, rgba(46,102,255,.20), transparent); transform: skewX(-18deg);"
                      ></div>
                    </div>
                    <div class="mt-2 mono text-[11px] text-white/60">
                      <span style="color:#2e66ff">⊙</span> features/tracking/pose cues
                    </div>
                  </div>

                  <div class="glass-strong rounded-2xl p-3 hover-lift tile">
                    <div class="mono text-[11px] text-white/60">IMU</div>
                    <div class="mt-2 flex items-end justify-between gap-2">
                      <div class="mono text-[11px] text-white/60">gyro_bias</div>
                      <div class="mono text-[11px]" style="color:#ccff00" id="imuBias">0.014</div>
                    </div>
                    <div class="mt-2 h-2 rounded-full bg-white/10 overflow-hidden">
                      <div id="imuBar" class="h-full w-1/2" style="background:#ccff00; box-shadow: 0 0 18px rgba(204,255,0,.35)"></div>
                    </div>
                    <div class="mt-2 mono text-[11px] text-white/60">EKF innovation gating</div>
                  </div>

                  <div class="glass-strong rounded-2xl p-3 hover-lift tile">
                    <div class="mono text-[11px] text-white/60">GPS</div>
                    <div class="mt-2 flex items-end justify-between gap-2">
                      <div class="mono text-[11px] text-white/60">solution</div>
                      <div class="mono text-[11px]" style="color:#2e66ff" id="gpsFix">3D</div>
                    </div>
                    <div class="mt-2 h-2 rounded-full bg-white/10 overflow-hidden">
                      <div id="gpsBar" class="h-full w-[68%]" style="background:#2e66ff; box-shadow: 0 0 18px rgba(46,102,255,.35)"></div>
                    </div>
                    <div class="mt-2 mono text-[11px] text-white/60">global correction/drift reset</div>
                  </div>
                </div>

                <div class="mt-4 flex items-center justify-between gap-3">
                  <div class="mono text-[11px] text-white/60">COMMAND:</div>
                  <div class="mono text-[11px] text-white/70">
                    <span style="color:#ccff00">ros2</span> launch fusion_stack bringup.launch.py
                    <span class="text-white/40">—</span>
                    <span style="color:#2e66ff">live:=true</span>
                  </div>

                </div>
              </div>
            </div>

            <!-- Robot visual strip (latest build) -->
            <div class="glass rounded-3xl p-6 sm:p-7 neon-ring hover:bg-white/5 transition">
              <!-- Video -->
              <div class="relative rounded-2xl overflow-hidden border border-white/10 bg-black/40">
                <video
                  class="w-full h-72 lg:h-80 object-cover"
                  autoplay
                  muted
                  loop
                  playsinline
                  preload="metadata"
                >
                  <source src="./assets/robots/linker.webm" type="video/webm" />
                </video>

                <!-- subtle premium glow -->
                <div
                  class="pointer-events-none absolute inset-x-0 bottom-0 h-20 opacity-80"
                  style="
                    background:
                      radial-gradient(60% 120% at 20% 100%, rgba(204,255,0,.14), transparent 60%),
                      radial-gradient(60% 120% at 80% 100%, rgba(46,102,255,.12), transparent 62%);
                  "
                ></div>

                <!-- faint sheen -->
                <div
                  class="pointer-events-none absolute inset-0 opacity-[0.10]"
                  style="background: linear-gradient(180deg, rgba(255,255,255,.10), transparent 32%, transparent 72%, rgba(255,255,255,.06));"
                ></div>
              </div>

              <!-- Text -->
              <div class="mt-4">
                <div class="mono text-xs text-white/60">LATEST BUILD</div>
                <div class="mt-1 text-xl font-extrabold tracking-tight">
                  Vision-guided barcode linking on PCB panels
                </div>
                <div class="mt-1 text-sm text-white/70">
                  Camera-mounted 6-DOF robotic arm with custom 3D-printed extremities, vision-based targeting,
                  and repeatable positioning.
                </div>

                <!-- optional: clean “console” line (keeps it generic, not over-sharing) -->
                <div class="mt-4 glass-strong rounded-2xl px-4 py-3 border border-white/10">
                  <div class="flex flex-wrap items-center justify-between gap-2">
                    <div class="mono text-[11px] text-white/60">
                      status: <span class="text-white/85">deployed (internal)</span>
                      <span class="text-white/35">•</span>
                      mode: <span style="color:#ccff00">vision + IO</span>
                    </div>
                    <div class="mono text-[11px] text-white/60">
                      focus: <span style="color:#2e66ff">repeatability</span>
                      <span class="text-white/35">•</span>
                      integration: <span class="text-white/80">line-ready</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>

          </div>
        </div>
      </section>

      <!-- CORE SYSTEMS -->
      <section id="core" class="mt-10 sm:mt-14 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="flex items-end justify-between gap-4">
          <div>
            <div class="mono text-xs text-white/60">CORE SYSTEMS</div>
            <h2 class="mt-2 text-2xl sm:text-3xl font-extrabold tracking-tight">
              Command Modules <span class="text-white/60">—</span> <span style="color:#ccff00">interactive</span>
            </h2>
            <p class="mt-2 text-white/70 max-w-2xl">
              Three modules that show up across my builds: perception, navigation, and deployment-grade integration.
            </p>
          </div>
        </div>

        <div class="mt-6 grid gap-4 lg:grid-cols-12">
          <!-- LEFT: 3 module buttons -->
          <div class="lg:col-span-5 grid gap-4">
            <button
              type="button"
              class="module-btn glass rounded-3xl p-5 sm:p-6 hover-lift reveal text-left neon-ring"
              data-module="perception"
              aria-pressed="true"
              style="border: 1px solid rgba(255,255,255,0.12)"
            >
              <div class="flex items-center justify-between">
                <div class="mono text-xs text-white/60">MODULE 01</div>
                <div class="mono text-xs" style="color:#ccff00">CV / PERCEPTION</div>
              </div>
              <div class="mt-3 text-xl font-bold">Perception & Vision</div>
              <p class="mt-2 text-sm text-white/70 leading-relaxed">
                Robust targets, geometry, and vision pipelines that hold up under real conditions.
              </p>
              <div class="mt-4 flex flex-wrap gap-2">
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">OpenCV</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">YOLO</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">Calibration</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">Pose Cues</span>
              </div>
            </button>

            <button
              type="button"
              class="module-btn glass rounded-3xl p-5 sm:p-6 hover-lift reveal text-left neon-ring"
              data-module="nav"
              aria-pressed="false"
              style="border: 1px solid rgba(255,255,255,0.12)"
            >
              <div class="flex items-center justify-between">
                <div class="mono text-xs text-white/60">MODULE 02</div>
                <div class="mono text-xs" style="color:#ccff00">NAV / STATE</div>
              </div>
              <div class="mt-3 text-xl font-bold">Localization & Navigation</div>
              <p class="mt-2 text-sm text-white/70 leading-relaxed">
                SLAM, estimation, and planning workflows tuned for stability and repeatability.
              </p>
              <div class="mt-4 flex flex-wrap gap-2">
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">ROS2</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">SLAM</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">RViz</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">Gazebo</span>
              </div>
            </button>

            <button
              type="button"
              class="module-btn glass rounded-3xl p-5 sm:p-6 hover-lift reveal text-left neon-ring"
              data-module="integration"
              aria-pressed="false"
              style="border: 1px solid rgba(255,255,255,0.12)"
            >
              <div class="flex items-center justify-between">
                <div class="mono text-xs text-white/60">MODULE 03</div>
                <div class="mono text-xs" style="color:#ccff00">DEPLOY</div>
              </div>
              <div class="mt-3 text-xl font-bold">Integration & Deployment</div>
              <p class="mt-2 text-sm text-white/70 leading-relaxed">
                Sensors, I/O, compute, and bring-up routines that make systems shippable.
              </p>
              <div class="mt-4 flex flex-wrap gap-2">
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">Linux</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">Sensors</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">Timing</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass-strong">Debug</span>
              </div>
            </button>
          </div>
          <!-- Right: Details panel (updated: no cmd/status, richer stack, meaningful flow) -->
          <div class="lg:col-span-7">
            <div class="glass rounded-3xl p-5 sm:p-6 neon-ring">
              <div class="mono text-xs text-white/60">DETAILS PANEL</div>

              <div class="mt-2 text-2xl font-extrabold tracking-tight" id="coreTitle">Perception & Vision</div>
              <p class="mt-2 text-white/70" id="coreDesc">
                Build perception pipelines that survive lighting shifts, motion blur, and messy real-world geometry.
              </p>

              <!-- Capabilities -->
              <div class="mt-4 glass-strong rounded-2xl p-4 border border-white/10">
                <div class="mono text-[11px] text-white/60">CAPABILITIES</div>
                <ul class="mt-2 grid gap-2 text-sm text-white/80" id="coreCaps"></ul>
              </div>

              <!-- Signal Flow (meaningful + click-triggered) -->
              <div class="mt-4 glass-strong rounded-2xl p-4 border border-white/10 overflow-hidden">
                <div class="flex items-center justify-between">
                  <div class="mono text-[11px] text-white/60">SIGNAL FLOW</div>
                  <div class="mono text-[11px] text-white/60" id="pipeState">click a module</div>
                </div>

                <div id="pipeTrack" class="mt-3 relative h-10">
                  <!-- track -->
                  <div class="absolute left-1 right-1 top-1/2 -translate-y-1/2 h-[2px] rounded-full bg-white/10"></div>

                  <!-- glow sweep (animated on click) -->
                  <div id="pipeGlow"
                    class="absolute left-1 top-1/2 -translate-y-1/2 h-[2px] rounded-full opacity-0"
                    style="width: 0%; background: linear-gradient(90deg, rgba(204,255,0,.0), rgba(204,255,0,.55), rgba(46,102,255,.55), rgba(46,102,255,.0));"
                  ></div>

                  <!-- nodes -->
                  <div id="pipeN1"
                    class="absolute left-0 top-1/2 -translate-y-1/2 h-3 w-3 rounded-full border border-white/20 bg-black/40"
                  ></div>
                  <div id="pipeN2"
                    class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 h-3 w-3 rounded-full border border-white/20 bg-black/40"
                  ></div>
                  <div id="pipeN3"
                    class="absolute right-0 top-1/2 -translate-y-1/2 h-3 w-3 rounded-full border border-white/20 bg-black/40"
                  ></div>

                  <!-- moving dot (runs once per selection) -->
                  <div id="pipeDot"
                    class="absolute left-0 top-1/2 -translate-y-1/2 h-3 w-3 rounded-full"
                    style="background:#ccff00; box-shadow: 0 0 18px rgba(204,255,0,.45)"
                  ></div>
                </div>

                <div class="mt-3 grid grid-cols-3 gap-2 text-center">
                  <div class="mono text-[11px] text-white/70" id="pipeL1">sense</div>
                  <div class="mono text-[11px] text-white/70" id="pipeL2">estimate</div>
                  <div class="mono text-[11px] text-white/70" id="pipeL3">act</div>
                </div>
              </div>

              <!-- Battle-tested example -->
              <div class="mt-4 glass-strong rounded-2xl p-4 border border-white/10">
                <div class="mono text-[11px] text-white/60">BATTLE-TESTED EXAMPLE</div>
                <div class="mt-2 font-semibold text-white/90" id="coreExampleTitle"></div>
                <p class="mt-1 text-sm text-white/70" id="coreExampleBody"></p>
              </div>

              <!-- Tech stack (richer, concise, no extra “status/cmd”) -->
              <div class="mt-4 glass-strong rounded-2xl p-4 border border-white/10">
                <div class="mono text-[11px] text-white/60">TECH STACK</div>
                <div class="mt-3 flex flex-wrap gap-2" id="coreStack"></div>
              </div>
            </div>
          </div>



        </div>
      </section>

      




      <!-- Quick “Featured” academic highlights -->
      <section class="mt-10 sm:mt-14 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="glass rounded-3xl p-6 sm:p-8 neon-ring">
          <div class="flex flex-col lg:flex-row lg:items-end lg:justify-between gap-4">
            <div>
              <div class="mono text-xs text-white/60">FEATURED SIGNAL</div>
              <h3 class="mt-2 text-2xl font-extrabold tracking-tight">
                Academic Projects <span class="text-white/60">—</span> <span style="color:#ccff00">13+</span> systems shipped in code
              </h3>
              <p class="mt-2 text-white/70 max-w-2xl">
                Your full “Bento Lab” lives on the Projects page. This is a quick scan of the heaviest hitters.
              </p>
            </div>

            <div class="flex gap-2">
              <a href="projects.html#academic" class="rounded-2xl px-4 py-3 font-semibold glass hover:bg-white/5 transition">
                View Academic Bento
              </a>
              <a href="projects.html#industrial" class="rounded-2xl px-4 py-3 font-semibold text-black hover:brightness-95 transition" style="background:#ccff00">
                View Industrial
              </a>
            </div>
          </div>

          <div class="mt-6 grid gap-4 lg:grid-cols-12">
            <div class="lg:col-span-7 glass-strong rounded-3xl p-5 sm:p-6 hover-lift reveal">
              <div class="flex items-center justify-between">
                <div class="mono text-xs text-white/60">FLAGSHIP</div>
                <div class="mono text-xs" style="color:#ccff00">STRETCH RE2</div>
              </div>
              <div class="mt-2 text-xl font-bold">Household Automation Robot (Stretch 2)</div>
              <p class="mt-2 text-sm text-white/70 leading-relaxed">
                Built an autonomous household helper: SLAM + object/face detection + pose estimation + grasping.
                Sim-first with Gazebo (2D LiDAR + depth cameras), then integrated on the real Stretch RE2.
              </p>
              <div class="mt-4 flex flex-wrap gap-2">
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass">ROS2</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass">Gazebo</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass">SLAM</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass">OpenCV</span>
                <span class="mono text-[11px] rounded-xl px-2 py-1 glass">Sensor Fusion</span>
              </div>
              <a href="projects.html#stretch" class="mt-5 inline-flex items-center gap-2 text-sm font-semibold" style="color:#2e66ff">
                Open detailed view <span class="mono">→</span>
              </a>
            </div>

            <div class="lg:col-span-5 grid gap-4">
              <div class="glass-strong rounded-3xl p-5 sm:p-6 hover-lift reveal">
                <div class="mono text-xs text-white/60">PERCEPTION</div>
                <div class="mt-2 text-lg font-bold">3D Point Cloud Reconstruction</div>
                <div class="mt-2 text-sm text-white/70">
                  SIFT + epipolar geometry + triangulation + bundle adjustment in GTSAM, rendered in Open3D.
                </div>
                <div class="mt-3 flex flex-wrap gap-2">
                  <span class="mono text-[11px] rounded-xl px-2 py-1 glass">OpenCV</span>
                  <span class="mono text-[11px] rounded-xl px-2 py-1 glass">GTSAM</span>
                  <span class="mono text-[11px] rounded-xl px-2 py-1 glass">Open3D</span>
                </div>
              </div>

              <div class="glass-strong rounded-3xl p-5 sm:p-6 hover-lift reveal">
                <div class="mono text-xs text-white/60">CONTROL</div>
                <div class="mt-2 text-lg font-bold">Quadcopter Stability (MPC / LQR / Robust)</div>
                <div class="mt-2 text-sm text-white/70">
                  Trajectory tracking with MPC, energy-performance balancing with LQR, robustness via µ-synthesis + Monte Carlo validation.
                </div>
                <div class="mt-3 flex flex-wrap gap-2">
                  <span class="mono text-[11px] rounded-xl px-2 py-1 glass">MATLAB</span>
                  <span class="mono text-[11px] rounded-xl px-2 py-1 glass">Simulink</span>
                  <span class="mono text-[11px] rounded-xl px-2 py-1 glass">Robust Control</span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- CONTACT (interactive) -->
      <section id="contact" class="mt-10 sm:mt-14 pb-16 mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
        <div class="grid gap-4 lg:grid-cols-12">
          <div class="lg:col-span-7 glass rounded-3xl p-6 sm:p-8 neon-ring">
            <div class="mono text-xs text-white/60">CONTACT CHANNEL</div>
            <h3 class="mt-2 text-2xl font-extrabold tracking-tight">
              Let’s build something that <span style="color:#ccff00">moves in the real world</span>.
            </h3>
            <p class="mt-2 text-white/70">
              If you’re hiring for Senior Robotics / Systems roles, I’m strongest where perception + navigation + control meet deployment reality.
            </p>

            <div class="mt-6 grid gap-3 sm:grid-cols-2">
              <a
                class="hover-lift glass-strong rounded-2xl p-4"
                href="https://www.linkedin.com/in/sujai-r/"
                target="_blank"
                rel="noreferrer"
              >
                <div class="mono text-[11px] text-white/60">LINKEDIN</div>
                <div class="mt-1 font-bold text-white/90">/in/sujai-r</div>
                <div class="mt-1 text-sm" style="color:#2e66ff">Open profile ↗</div>
              </a>

              <a class="hover-lift glass-strong rounded-2xl p-4" href="projects.html">
                <div class="mono text-[11px] text-white/60">PROJECTS</div>
                <div class="mt-1 font-bold text-white/90">Bento Lab</div>
                <div class="mt-1 text-sm" style="color:#2e66ff">Browse grid ↗</div>
              </a>
            </div>

            <div class="mt-6 glass-strong rounded-2xl p-4">
              <div class="mono text-[11px] text-white/60">NOTE</div>
              <div class="mt-1 text-sm text-white/70">
                Email + downloadable resume buttons will be wired on the Experience page. This home page is the “scan-fast” command view.
              </div>
            </div>
          </div>

          <div class="lg:col-span-5 glass rounded-3xl p-6 sm:p-8 neon-ring tilt" id="contactTilt">
            <div class="tilt-inner">
              <div class="mono text-xs text-white/60">MICRO-INTERACTION</div>
              <div class="mt-2 text-xl font-bold">Signal Beacon</div>
              <p class="mt-2 text-white/70 text-sm">
                Hover/tilt this panel. The beacon pulse reacts like a “handoff” animation.
              </p>

              <div class="mt-5 relative overflow-hidden rounded-2xl border border-white/10 bg-black/40 h-44">
                <div class="absolute inset-0 opacity-70"
                  style="background: radial-gradient(circle at 40% 30%, rgba(204,255,0,.16), transparent 55%), radial-gradient(circle at 70% 70%, rgba(46,102,255,.16), transparent 55%);"
                ></div>

                <div class="absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2">
                  <div class="relative h-24 w-24">
                    <div id="beacon" class="absolute inset-0 rounded-full"
                      style="background: rgba(204,255,0,.10); box-shadow: 0 0 0 1px rgba(204,255,0,.18), 0 0 50px rgba(204,255,0,.12);"
                    ></div>
                    <div class="absolute left-1/2 top-1/2 h-3 w-3 -translate-x-1/2 -translate-y-1/2 rounded-full"
                      style="background:#ccff00; box-shadow: 0 0 24px rgba(204,255,0,.55);"
                    ></div>
                  </div>
                </div>

                <div id="beaconSweep" class="absolute -left-40 top-0 h-full w-64"
                  style="background: linear-gradient(90deg, transparent, rgba(46,102,255,.22), transparent); transform: skewX(-18deg);"
                ></div>
              </div>

              <div class="mt-4 flex items-center justify-between">
                <div class="mono text-[11px] text-white/60">STATUS</div>
                <div class="mono text-[11px]" style="color:#ccff00">READY</div>
              </div>
            </div>
          </div>
        </div>

        <footer class="mt-10 text-center text-white/55 mono text-[11px]">
          © <span id="year"></span> Sujai Rajan — Portfolio v1.6.0
        </footer>
      </section>
    </main>

    <script>
      // ---------------------------
      // Utilities: Motion wrapper
      // ---------------------------
      const FM = window.framerMotion || window.FramerMotion || null;

      function animateSafe(el, keyframes, options) {
        // Try Framer Motion if present, else fallback to WAAPI.
        try {
          if (FM && typeof FM.animate === "function") {
            // Some UMD builds expose animate()
            return FM.animate(el, keyframes, options);
          }
        } catch (_) {}
        return el.animate(keyframes, options);
      }

      // ---------------------------
      // Mobile menu
      // ---------------------------
      const mobileBtn = document.getElementById("mobileBtn");
      const mobileMenu = document.getElementById("mobileMenu");
      mobileBtn?.addEventListener("click", () => {
        mobileMenu.classList.toggle("hidden");
      });

      // ---------------------------
      // Year
      // ---------------------------
      document.getElementById("year").textContent = new Date().getFullYear();

      // ---------------------------
      // Starfield (lightweight)
      // ---------------------------
      const canvas = document.getElementById("starfield");
      const ctx = canvas.getContext("2d");
      let w, h, stars;

      function resize() {
        w = canvas.width = window.innerWidth;
        h = canvas.height = window.innerHeight;
        stars = Array.from({ length: Math.min(220, Math.floor((w * h) / 12000)) }, () => ({
          x: Math.random() * w,
          y: Math.random() * h,
          z: Math.random() * 0.8 + 0.2,
          r: Math.random() * 1.6 + 0.4,
          vx: (Math.random() * 0.2 + 0.05) * (Math.random() > 0.5 ? 1 : -1),
          vy: (Math.random() * 0.2 + 0.05) * (Math.random() > 0.5 ? 1 : -1),
        }));
      }
      window.addEventListener("resize", resize);
      resize();

      function tick() {
        ctx.clearRect(0, 0, w, h);
        ctx.globalCompositeOperation = "lighter";

        for (const s of stars) {
          s.x += s.vx * (0.8 + s.z);
          s.y += s.vy * (0.8 + s.z);

          if (s.x < -20) s.x = w + 20;
          if (s.x > w + 20) s.x = -20;
          if (s.y < -20) s.y = h + 20;
          if (s.y > h + 20) s.y = -20;

          // Lime + blue mix
          const lime = 0.18 + s.z * 0.25;
          const blue = 0.10 + s.z * 0.22;

          // Draw glow
          ctx.beginPath();
          ctx.fillStyle = `rgba(204,255,0,${lime})`;
          ctx.arc(s.x, s.y, s.r, 0, Math.PI * 2);
          ctx.fill();

          ctx.beginPath();
          ctx.fillStyle = `rgba(46,102,255,${blue})`;
          ctx.arc(s.x + 0.7, s.y + 0.3, Math.max(0.7, s.r * 0.65), 0, Math.PI * 2);
          ctx.fill();
        }

        ctx.globalCompositeOperation = "source-over";
        requestAnimationFrame(tick);
      }
      tick();

      // Humanoid travels along the data-bus (animate the mover, not the centered wrapper)
      const rigMover = document.getElementById("rigMover");
      if (rigMover) {
        animateSafe(
          rigMover,
          [
            { transform: "translateX(-180px) translateY(-46px)", opacity: 0.85 },
            { transform: "translateX(180px) translateY(-46px)", opacity: 1 },
            { transform: "translateX(-180px) translateY(-46px)", opacity: 0.85 },
          ],
          { duration: 10000, iterations: Infinity, easing: "ease-in-out" }
        );
      }


      // ---------------------------
      // Reveals on scroll
      // ---------------------------
      const revealEls = document.querySelectorAll(".reveal");
      const io = new IntersectionObserver(
        (entries) => {
          entries.forEach((e) => {
            if (!e.isIntersecting) return;
            e.target.classList.add("will-animate");
            animateSafe(
              e.target,
              [
                { opacity: 0, transform: "translateY(14px) scale(0.99)" },
                { opacity: 1, transform: "translateY(0px) scale(1)" },
              ],
              { duration: 650, easing: "cubic-bezier(0.2, 0.8, 0.2, 1)", fill: "both" }
            );
            io.unobserve(e.target);
          });
        },
        { threshold: 0.15 }
      );
      revealEls.forEach((el) => io.observe(el));

      // ---------------------------
      // Sensor sweeps / shimmer loops
      // ---------------------------
      const sweep = document.getElementById("sweep");
      const shimmer = document.getElementById("shimmer");
      const beaconSweep = document.getElementById("beaconSweep");

      if (sweep) {
        animateSafe(
          sweep,
          [{ transform: "translateX(-40px) skewX(-18deg)" }, { transform: "translateX(260px) skewX(-18deg)" }],
          { duration: 1400, iterations: Infinity, easing: "cubic-bezier(0.2,0.8,0.2,1)" }
        );
      }
      if (shimmer) {
        animateSafe(
          shimmer,
          [{ transform: "translateX(-180px) skewX(-18deg)" }, { transform: "translateX(260px) skewX(-18deg)" }],
          { duration: 1800, iterations: Infinity, easing: "cubic-bezier(0.2,0.8,0.2,1)" }
        );
      }
      if (beaconSweep) {
        animateSafe(
          beaconSweep,
          [{ transform: "translateX(-260px) skewX(-18deg)" }, { transform: "translateX(520px) skewX(-18deg)" }],
          { duration: 2200, iterations: Infinity, easing: "cubic-bezier(0.2,0.8,0.2,1)" }
        );
      }

      // Beacon pulse
      const beacon = document.getElementById("beacon");
      if (beacon) {
        animateSafe(
          beacon,
          [
            { transform: "scale(0.88)", opacity: 0.75 },
            { transform: "scale(1.08)", opacity: 0.95 },
            { transform: "scale(0.92)", opacity: 0.8 },
          ],
          { duration: 1700, iterations: Infinity, easing: "ease-in-out" }
        );
      }

      // ---------------------------
      // IMU/GPS faux telemetry
      // ---------------------------
      const imuBias = document.getElementById("imuBias");
      const imuBar = document.getElementById("imuBar");
      const gpsFix = document.getElementById("gpsFix");
      const gpsBar = document.getElementById("gpsBar");

      const fixes = ["2D", "3D", "DGPS", "RTK-FLOAT", "RTK-FIX"];
      let t = 0;

      setInterval(() => {
        t += 1;
        const bias = (0.010 + Math.random() * 0.012).toFixed(3);
        if (imuBias) imuBias.textContent = bias;

        const imuPct = 40 + Math.floor(Math.random() * 50);
        if (imuBar) imuBar.style.width = imuPct + "%";

        const fix = fixes[Math.floor(Math.random() * fixes.length)];
        if (gpsFix) gpsFix.textContent = fix;

        const gpsPct = 55 + Math.floor(Math.random() * 40);
        if (gpsBar) gpsBar.style.width = gpsPct + "%";
      }, 1100);

      // ---------------------------
      // 3D tilt (panels)
      // ---------------------------
      function attachTilt(containerId, strength = 10) {
        const el = document.getElementById(containerId);
        if (!el) return;
        const inner = el.querySelector(".tilt-inner");
        if (!inner) return;

        function onMove(e) {
          const r = el.getBoundingClientRect();
          const x = (e.clientX - r.left) / r.width - 0.5;
          const y = (e.clientY - r.top) / r.height - 0.5;
          const rx = (-y * strength).toFixed(2);
          const ry = (x * strength).toFixed(2);
          inner.style.transform = `rotateX(${rx}deg) rotateY(${ry}deg) translateZ(0)`;
        }
        function onLeave() {
          inner.style.transform = "rotateX(0deg) rotateY(0deg) translateZ(0)";
        }

        el.addEventListener("mousemove", onMove);
        el.addEventListener("mouseleave", onLeave);
      }
      attachTilt("tiltPanel", 10);
      attachTilt("contactTilt", 12);

      // ---------------------------
      // Humanoid rig motion
      // ---------------------------
      const armL = document.getElementById("armL");
      const armR = document.getElementById("armR");
      const legL = document.getElementById("legL");
      const legR = document.getElementById("legR");

      const rigParts = [armL, armR, legL, legR].filter(Boolean);
      if (rigParts.length) {
        animateSafe(
          armL,
          [{ transform: "rotate(12deg)" }, { transform: "rotate(-18deg)" }, { transform: "rotate(12deg)" }],
          { duration: 1400, iterations: Infinity, easing: "ease-in-out" }
        );
        animateSafe(
          armR,
          [{ transform: "rotate(-14deg)" }, { transform: "rotate(16deg)" }, { transform: "rotate(-14deg)" }],
          { duration: 1400, iterations: Infinity, easing: "ease-in-out" }
        );
        animateSafe(
          legL,
          [{ transform: "rotate(-10deg)" }, { transform: "rotate(14deg)" }, { transform: "rotate(-10deg)" }],
          { duration: 1600, iterations: Infinity, easing: "ease-in-out" }
        );
        animateSafe(
          legR,
          [{ transform: "rotate(10deg)" }, { transform: "rotate(-14deg)" }, { transform: "rotate(10deg)" }],
          { duration: 1600, iterations: Infinity, easing: "ease-in-out" }
        );
      }
      // ---------------------------
      // Core Systems: Command Center panel (clean + meaningful flow)
      // ---------------------------
      const coreData = {
        perception: {
          title: "Perception & Vision",
          desc: "Perception pipelines that survive lighting shifts, motion blur, and messy real-world geometry.",
          caps: [
            "Object detection + feature extraction for stable targets",
            "Pose cues / camera geometry for repeatable alignment",
            "2D→3D reasoning (stereo / point cloud) when it earns its keep",
          ],
          exampleTitle: "Vision-guided barcode linking on PCB panels",
          exampleBody:
            "Camera-based targeting + repeatable acquisition to link top/bottom IDs with production-style I/O, handoff logic, and verification.",
          stackChips: [
            "OpenCV", "YOLO", "Pose Estimation", "Calibration",
            "ROS2", "Python", "C++",
            "Open3D", "GTSAM", "Kalman Filtering",
            "Cameras", "Sensor Integration", "Linux", "Git"
          ],
          flow: {
            labels: ["capture", "extract + verify", "align + commit"],
            state: "vision lock • verified",
          },
        },

        nav: {
          title: "Localization & Navigation",
          desc: "Map, localize, and plan motion reliably — autonomy that holds up beyond perfect simulation.",
          caps: [
            "SLAM + mapping for consistent scene structure",
            "State estimation for stable pose under noise and drift",
            "Planning + obstacle handling with tuning tradeoffs that actually ship",
          ],
          exampleTitle: "Autonomous navigation stacks (sim → hardware)",
          exampleBody:
            "End-to-end navigation workflows integrating sensing, localization, and planning with real constraints, tuning, and failure modes.",
          stackChips: [
            "ROS2", "SLAM", "Mapping", "Path Planning",
            "Gazebo", "RViz",
            "Sensor Fusion", "Kalman Filtering",
            "Linux", "Git"
          ],
          flow: {
            labels: ["map", "localize", "plan + avoid"],
            state: "pose stable • replanning",
          },
        },

        integration: {
          title: "Robot Integration & Deployment",
          desc: "Sensors + compute + I/O into a system that’s debuggable, reliable, and production-friendly.",
          caps: [
            "Sensor timing + integration (camera/LiDAR/IMU/GPS) with real wiring discipline",
            "Bring-up workflows: nodes, logs, triage, and repeatable debugging",
            "Control where needed (PID/MPC) — tuned for stability, not theory worship",
          ],
          exampleTitle: "Industrial automation + deployment-minded robotics",
          exampleBody:
            "Field sensors, interlocks, handshakes, and failure behaviors — the difference between a cool demo and a system that survives the floor.",
          stackChips: [
            "ROS2", "Linux", "Git",
            "Sensors", "I/O", "Safety Interlocks",
            "Raspberry Pi", "Arduino",
            "MoveIt2", "RViz"
          ],
          flow: {
            labels: ["integrate", "synchronize", "deploy + debug"],
            state: "handoff ready • diagnosable",
          },
        },
      };

      const moduleBtns = document.querySelectorAll(".module-btn");

      const coreTitle = document.getElementById("coreTitle");
      const coreDesc = document.getElementById("coreDesc");
      const coreCaps = document.getElementById("coreCaps");
      const coreExampleTitle = document.getElementById("coreExampleTitle");
      const coreExampleBody = document.getElementById("coreExampleBody");
      const coreStack = document.getElementById("coreStack");

      // Flow elements
      const pipeL1 = document.getElementById("pipeL1");
      const pipeL2 = document.getElementById("pipeL2");
      const pipeL3 = document.getElementById("pipeL3");
      const pipeState = document.getElementById("pipeState");
      const pipeDot = document.getElementById("pipeDot");
      const pipeGlow = document.getElementById("pipeGlow");
      const pipeTrack = document.getElementById("pipeTrack");
      const pipeN1 = document.getElementById("pipeN1");
      const pipeN2 = document.getElementById("pipeN2");
      const pipeN3 = document.getElementById("pipeN3");

      let flowRun = 0;

      function renderChips(container, chips) {
        container.innerHTML = (chips || [])
          .map((t, i) => {
            const cls = i < 6 ? "glass-strong" : "glass";
            return `<span class="mono text-[11px] rounded-xl px-2.5 py-1 ${cls}">${t}</span>`;
          })
          .join("");
      }

      function pulseNode(nodeEl, color) {
        if (!nodeEl) return;
        nodeEl.style.background = color;
        nodeEl.style.boxShadow = `0 0 18px ${color === "#ccff00" ? "rgba(204,255,0,.45)" : "rgba(46,102,255,.45)"}`;
        // quick settle back to “idle”
        setTimeout(() => {
          nodeEl.style.background = "rgba(0,0,0,.4)";
          nodeEl.style.boxShadow = "none";
        }, 420);
      }

      function runFlowOnce(flow) {
        if (!pipeDot || !pipeTrack) return;
        const runId = ++flowRun; // cancels prior runs logically

        const rect = pipeTrack.getBoundingClientRect();
        const travel = Math.max(0, rect.width - 12); // dot width ≈ 12px

        // Reset visuals
        if (pipeGlow) {
          pipeGlow.style.opacity = "0";
          pipeGlow.style.width = "0%";
        }
        pipeDot.style.transform = "translateY(-50%) translateX(0px)";
        pipeDot.style.opacity = "1";

        // labels + state
        if (pipeL1) pipeL1.textContent = flow?.labels?.[0] || "sense";
        if (pipeL2) pipeL2.textContent = flow?.labels?.[1] || "estimate";
        if (pipeL3) pipeL3.textContent = flow?.labels?.[2] || "act";
        if (pipeState) pipeState.textContent = flow?.state || "running";

        // glow sweep (not infinite; only on click)
        if (pipeGlow) {
          pipeGlow.style.opacity = "1";
          animateSafe(
            pipeGlow,
            [{ width: "0%", opacity: 0.0 }, { width: "100%", opacity: 1.0 }, { width: "100%", opacity: 0.0 }],
            { duration: 650, easing: "cubic-bezier(0.2,0.8,0.2,1)", fill: "forwards" }
          );
        }

        // sequential node pulses (meaningful)
        setTimeout(() => { if (runId === flowRun) pulseNode(pipeN1, "#ccff00"); }, 60);
        setTimeout(() => { if (runId === flowRun) pulseNode(pipeN2, "#2e66ff"); }, 260);
        setTimeout(() => { if (runId === flowRun) pulseNode(pipeN3, "#ccff00"); }, 470);

        // dot travels ONCE across the track, then stops (no mindless looping)
        animateSafe(
          pipeDot,
          [
            { transform: "translateY(-50%) translateX(0px)" },
            { transform: `translateY(-50%) translateX(${travel * 0.5}px)` },
            { transform: `translateY(-50%) translateX(${travel}px)` },
          ],
          { duration: 650, easing: "cubic-bezier(0.2,0.8,0.2,1)", fill: "forwards" }
        );

        // end-state: dot shifts slightly blue to suggest “settled”
        setTimeout(() => {
          if (runId !== flowRun) return;
          pipeDot.style.background = "#2e66ff";
          pipeDot.style.boxShadow = "0 0 18px rgba(46,102,255,.45)";
          setTimeout(() => {
            if (runId !== flowRun) return;
            pipeDot.style.background = "#ccff00";
            pipeDot.style.boxShadow = "0 0 18px rgba(204,255,0,.45)";
          }, 420);
        }, 700);
      }

      function setActiveModule(key) {
        const d = coreData[key];
        if (!d) return;

        coreTitle.textContent = d.title;
        coreDesc.textContent = d.desc;

        coreCaps.innerHTML = d.caps
          .map((c) => `<li class="flex gap-2"><span style="color:#ccff00">•</span><span>${c}</span></li>`)
          .join("");

        coreExampleTitle.textContent = d.exampleTitle;
        coreExampleBody.textContent = d.exampleBody;

        renderChips(coreStack, d.stackChips);

        // active button styling
        moduleBtns.forEach((b) => {
          const isActive = b.dataset.module === key;
          b.setAttribute("aria-pressed", String(isActive));
          b.classList.toggle("neon-ring-strong", isActive);
          b.style.borderColor = isActive ? "rgba(204,255,0,0.28)" : "rgba(255,255,255,0.12)";
          b.style.boxShadow = isActive ? "var(--shadow-neon-strong)" : "var(--shadow-neon)";
        });

        // run meaningful flow ONCE per click/selection
        runFlowOnce(d.flow);

        // tiny refresh animation
        const panel = coreTitle.closest(".glass");
        if (panel) {
          try {
            animateSafe(
              panel,
              [{ transform: "translateY(6px)", opacity: 0.85 }, { transform: "translateY(0px)", opacity: 1 }],
              { duration: 220, easing: "cubic-bezier(0.2,0.8,0.2,1)", fill: "both" }
            );
          } catch (_) {}
        }
      }

      moduleBtns.forEach((btn) => {
        btn.addEventListener("click", () => setActiveModule(btn.dataset.module));
      });

      // Default
      setActiveModule("perception");


    </script>
  </body>
</html>
